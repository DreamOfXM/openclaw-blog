{% extends "base.html" %}

{% block title %}é¦–é¡µ - è¯´ç‚¹å•¥ Â· æŠ€èƒ½ç¬”è®°{% endblock %}

{% block content %}
<div class="mb-6 text-center">
    <h1 style="font-size: 2.5rem; font-weight: bold; margin-bottom: 1rem;">ğŸ“ è¯´ç‚¹å•¥ Â· æŠ€èƒ½ç¬”è®°</h1>
    <p style="color: var(--text-light); max-width: 600px; margin: 0 auto;">
        è®°å½•æƒ³æ³•ï¼Œåˆ†äº«çŸ¥è¯†ï¼Œæ„å»ºä¸ªäººçš„æŠ€èƒ½çŸ¥è¯†åº“
    </p>
</div>

{% if articles %}
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for article in articles %}
            <div class="card article-card">
                <div>
                    <h2 class="article-title">
                        <a href="{{ url_for('view_post', slug=article.slug) }}" 
                           style="color: inherit; text-decoration: none;">
                            {{ article.title }}
                        </a>
                    </h2>
                    
                    {% if article.excerpt %}
                        <p class="article-excerpt">{{ article.excerpt }}</p>
                    {% endif %}
                    
                    {% if article.tags %}
                        <div style="margin-top: 0.75rem;">
                            {% for tag in article.tags.split(',') %}
                                <span class="tag">{{ tag.strip() }}</span>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <div class="article-meta">
                    <span>
                        {% if article.visibility == 'public' %}
                            <span style="color: var(--success);">å…¬å¼€</span>
                        {% elif article.visibility == 'private' %}
                            <span style="color: var(--warning);">ç§å¯†</span>
                        {% elif article.visibility == 'password' %}
                            <span style="color: var(--accent);">å¯†ç ä¿æŠ¤</span>
                        {% endif %}
                    </span>
                    <span>{{ article.created_at[:10] }}</span>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <div class="card text-center" style="max-width: 600px; margin: 4rem auto;">
        <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ“</div>
        <h2 style="margin-bottom: 1rem;">è¿˜æ²¡æœ‰æ–‡ç« </h2>
        <p style="color: var(--text-light); margin-bottom: 2rem;">
            ç™»å½•ç®¡ç†åå°åˆ›å»ºç¬¬ä¸€ç¯‡æ–‡ç« å§ï¼
        </p>
        <a href="{{ url_for('login') }}" class="btn">ç™»å½•ç®¡ç†</a>
    </div>
{% endif %}

{% if session.username == 'admin' %}
    <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border);">
        <div class="card" style="background: #f0f9ff; border-color: #bae6fd;">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                <div style="font-size: 1.5rem;">ğŸ‘‘</div>
                <div>
                    <h3 style="font-weight: 600;">ç®¡ç†å‘˜åŠŸèƒ½</h3>
                    <p style="color: var(--text-light); font-size: 0.9rem;">æ‚¨æœ‰å®Œæ•´çš„ç®¡ç†æƒé™</p>
                </div>
            </div>
            <div style="display: flex; gap: 1rem;">
                <a href="{{ url_for('admin') }}" class="btn">ç®¡ç†åå°</a>
                <a href="{{ url_for('logout') }}" class="btn btn-secondary">é€€å‡ºç™»å½•</a>
            </div>
        </div>
    </div>
{% endif %}
{% endblock %}